#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ”„ Running documentation sync check..."

# Run the documentation sync script
if npm run script:check-sync; then
  echo "âœ… Documentation sync completed successfully"
  
  # Check if sync script modified any files in notionDocs
  if [ -n "$(git diff --name-only notionDocs/)" ]; then
    echo "ğŸ“ Documentation files were updated, staging changes..."
    
    # Stage the updated documentation files
    git add notionDocs/
    
    echo "âœ… Updated documentation files have been staged for commit"
  else
    echo "âœ… No documentation updates needed"
  fi
  
  echo "ğŸš€ Pre-commit checks completed successfully"
else
  echo "âŒ Documentation sync failed"
  echo "Please check the sync issues and try again"
  exit 1
fi
